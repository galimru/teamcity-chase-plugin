apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'com.github.rodm.teamcity-server'

group = 'com.haulmont.teamcity'
version = '1.0-SNAPSHOT'

repositories {
    jcenter()
}


dependencies {
    compile ('com.github.seratch:jslack:1.0.10') {
        exclude group: 'org.slf4j'
    }
}

buildscript {
    repositories {
        maven {
            url 'https://plugins.gradle.org/m2/'
        }
    }
    dependencies {
        classpath 'com.github.rodm:gradle-teamcity-plugin:1.0'
    }
}

teamcity {
    // Use TeamCity 8.1 API
    version = '9.1.6'

    // Plugin descriptor
    server {
        descriptor {
            // required properties
            name = project.name
            displayName = 'TeamCity Plugin'
            version = project.version
            vendorName = 'vendor name'

            // optional properties
            description = 'Example TeamCity plugin'
            downloadUrl = 'download url'
            email = 'me@example.com'
            vendorUrl = 'vendor url'
            vendorLogo = 'vendor logo'
            useSeparateClassloader = true

            minimumBuild = '10'
            maximumBuild = '20'

        }
    }
}